def roman_to_integer(a_string): return sum([{ 'I': 1, 'V': 5, 'X': 10, 'L': 50, 'C': 100, 'D': 500, 'M': 1000 }[char] for char in a_string]) - 2 * sum([delta if delta > 0 else 0 for delta in [{ 'I': 1, 'V': 5, 'X': 10, 'L': 50, 'C': 100, 'D': 500, 'M': 1000 }[a_string[i - 1]] for i in range(1, len(a_string)) if { 'I': 1, 'V': 5, 'X': 10, 'L': 50, 'C': 100, 'D': 500, 'M': 1000 }[a_string[i]] > { 'I': 1, 'V': 5, 'X': 10, 'L': 50, 'C': 100, 'D': 500, 'M': 1000 }[a_string[i - 1]]]]) # "os one-liners do Miguel" :(
